---
mode: 'agent'
description: 'Refactor the BalanceMatrix component to extract logic, improve accessibility, and add error handling'
---

# Agent Mode: Refactor BalanceMatrix

Refactor the BalanceMatrix component:
1. Extract calculation logic into a separate utility
2. Add PropTypes or type comments
3. Improve accessibility (ARIA labels)
4. Add error boundary
5. Ensure existing functionality still works

Make the changes and verify nothing breaks.
